@inject FirstReg.Service service

@{
    var user = await service.Data.Get<User>(x => x.UserName.ToLower() == User.Identity.Name.ToLower());
}

<html lang="en">
<head>
    <base href="~/">
    <meta charset="utf-8" />
    <title>@ViewBag.Title | First Registrars</title>
    <meta name="description" content="First Registrars Online Access allow shareholders, stock brokers manage their portfolio online from any internet enabled device." />
    <meta name="keywords" content="First Registrars, Online Access, MAccess, E-Lodgment, E-Certificate" />
    <link rel="canonical" href="https://firstregistrarsnigeria.com/products/online-access" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" href="~/assets/media/logos/favicon.ico" />

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" />

    <link href="~/assets/plugins/custom/datatables/datatables.bundle.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/plugins/custom/leaflet/leaflet.bundle.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/css/style.bundle.css" rel="stylesheet" type="text/css" />

    <link rel="apple-touch-icon" sizes="120x120" href="~/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="~/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="~/icons/favicon-16x16.png">
    <link rel="manifest" href="~/icons/site.webmanifest">
    <link rel="mask-icon" href="~/icons/safari-pinned-tab.svg" color="#c49b36">
    <meta name="msapplication-TileColor" content="#12416f">
    <meta name="theme-color" content="#12416f">

    <link rel="apple-touch-icon" sizes="57x57" href="~/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="~/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="~/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="~/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="~/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="~/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="~/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="~/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="~/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="~/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="~/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="~/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="~/icons/favicon-16x16.png">
    <link rel="manifest" href="~/icons/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="~/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <script src="https://unpkg.com/htmx.org@2.0.4"></script>

    @RenderSection("styles", required: false)

    <link href="~/custom.css" rel="stylesheet" asp-append-version="true" />
</head>
<body id="kt_body" class="header-fixed header-tablet-and-mobile-fixed aside-fixed aside-secondary-disabled">
    <div class="d-flex flex-column flex-root">
        <div class="page d-flex flex-row flex-column-fluid">
            <div class="wrapper d-flex flex-column flex-row-fluid" id="kt_wrapper">
                <div id="kt_header" style="" class="header bg-white align-items-stretch">
                    <div class="container-fluid d-flex align-items-stretch justify-content-between">
                        <div class="d-flex align-items-center d-lg-none ms-n3 me-1" title="Show aside menu">
                            <div class="btn btn-icon btn-active-color-primary w-40px h-40px" id="kt_header_menu_mobile_toggle">
                                <span class="svg-icon svg-icon-2x mt-1"> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <rect x="0" y="0" width="24" height="24" /> <rect fill="#000000" x="4" y="5" width="16" height="3" rx="1.5" /> <path d="M5.5,15 L18.5,15 C19.3284271,15 20,15.6715729 20,16.5 C20,17.3284271 19.3284271,18 18.5,18 L5.5,18 C4.67157288,18 4,17.3284271 4,16.5 C4,15.6715729 4.67157288,15 5.5,15 Z M5.5,10 L18.5,10 C19.3284271,10 20,10.6715729 20,11.5 C20,12.3284271 19.3284271,13 18.5,13 L5.5,13 C4.67157288,13 4,12.3284271 4,11.5 C4,10.6715729 4.67157288,10 5.5,10 Z" fill="#000000" opacity="0.3" /> </g> </svg> </span>
                            </div>
                        </div>
                        <div class="d-flex align-items-center flex-grow-1 flex-lg-grow-0">
                            <a href="~/" class="d-lg-none"> <img alt="Logo" src="~/img/logos/logo.png" class="h-45px" /> </a>
                        </div>
                        <div class="d-flex align-items-center" id="kt_header_wrapper">
                            <div class="page-title d-flex flex-column align-items-start d-none d-lg-block justify-content-center flex-wrap me-lg-20 pb-2 pb-lg-0" data-kt-swapper="true" data-kt-swapper-mode="prepend" data-kt-swapper-parent="{default: '#kt_content_container', lg: '#kt_header_wrapper'}">
                                <a href="~/" class="text-dark">
                                    <img src="~/img/logos/logo.png" class="h-50px" />
                                </a>
                            </div>
                        </div>
                        <div class="d-flex align-items-stretch justify-content-between flex-lg-grow-1">
                            <div class="d-flex align-items-stretch" id="kt_header_nav">
                                <div class="header-menu align-items-stretch" data-kt-drawer="true" data-kt-drawer-name="header-menu" data-kt-drawer-activate="{default: true, lg: false}" data-kt-drawer-overlay="true" data-kt-drawer-width="{default:'200px', '300px': '250px'}" data-kt-drawer-direction="start" data-kt-drawer-toggle="#kt_header_menu_mobile_toggle" data-kt-swapper="true" data-kt-swapper-mode="prepend" data-kt-swapper-parent="{default: '#kt_body', lg: '#kt_header_nav'}">
                                    <div class="menu menu-lg-rounded menu-column menu-lg-row menu-state-bg menu-title-gray-900 menu-state-title-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-400 fw-bold fs-5 my-7 my-lg-0 align-items-stretch" id="#kt_header_menu" data-kt-menu="true">
                                        @if (user.Type == UserType.Shareholder)
                                        {
                                            <partial name="_MenuShareholder" />
                                        }
                                        else if (user.Type == UserType.StockBroker)
                                        {
                                            <partial name="_MenuStockBroker" />
                                        }
                                        else if (user.Type == UserType.CompanySec)
                                        {
                                            <partial name="_MenuCompanySec" />
                                        }
                                        else if (user.Type == UserType.FRAdmin)
                                        {
                                            <partial name="_MenuFRAdmin" />
                                        }
                                        else
                                        {
                                            <partial name="_Menu" />
                                        }
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex align-items-stretch justify-self-end flex-shrink-0">
                                <div class="d-flex align-items-stretch flex-shrink-0">
                                    <div class="d-flex align-items-center ms-1 ms-lg-3" id="kt_header_user_menu_toggle">
                                        <div class="cursor-pointer symbol symbol-30px symbol-md-40px" data-kt-menu-trigger="click" data-kt-menu-attach="parent" data-kt-menu-placement="bottom-end" data-kt-menu-flip="bottom">
                                            <img src="~/img/blank-avarta.png" alt="First Registrars Online Access" />
                                        </div>
                                        <div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg menu-state-primary fw-bold py-4 fs-6 w-275px" data-kt-menu="true">
                                            <div class="menu-item px-3">
                                                <div class="menu-content d-flex align-items-center px-3">
                                                    <div class="symbol symbol-50px me-5">
                                                        <img alt="Logo" src="~/img/blank-avarta.png" />
                                                    </div>
                                                    <div class="d-flex flex-column">
                                                        <div class="fw-bolder d-flex align-items-center fs-5">
                                                            @user.FullName
                                                            @*@if (user.IsSubscribed)
                                                            {
                                                            <span class="badge badge-light-success fw-bolder fs-8 px-2 py-1 ms-2">Pro</span>
                                                            }*@
                                                        </div>
                                                        <a href="#" class="fw-bold text-muted text-hover-primary fs-7">@user.Email</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="separator my-2"></div>
                                            @if (user.Type == UserType.Shareholder && user.AllowGroup)
                                            {
                                                <div class="menu-item px-5">
                                                    <a href="javascript:;" data-bs-toggle="modal" data-bs-target="#diag_shareholder" class="menu-link px-5">
                                                        <span class="me-2">+</span> Add Shareholder
                                                    </a>
                                                </div>
                                            }
                                            <div class="menu-item px-5">
                                                <a asp-controller="Home" asp-action="Profile" class="menu-link px-5">My Profile</a>
                                            </div>
                                            @if (user.Type == UserType.Shareholder)
                                            {
                                            <div class="menu-item px-5" data-kt-menu-trigger="hover" data-kt-menu-placement="left-start" data-kt-menu-flip="bottom">
                                                <a href="#" class="menu-link px-5"> <span class="menu-title">My Subscription</span> <span class="menu-arrow"></span> </a>
                                                <div class="menu-sub menu-sub-dropdown w-175px py-4">
                                                    <div class="menu-item px-3">
                                                        <a asp-controller="Home" asp-action="Subscriptions" class="menu-link px-5">Subscriptions</a>
                                                    </div>
                                                    <div class="menu-item px-3">
                                                        <a asp-controller="Home" asp-action="Payments" class="menu-link px-5">Payments</a>
                                                    </div>
                                                    <div class="separator my-2"></div>
                                                    <div class="menu-item px-3">
                                                        <div class="menu-content px-3">
                                                            <label class="form-check form-switch form-check-custom form-check-solid"> <input class="form-check-input w-30px h-20px" type="checkbox" value="1" checked="checked" name="notifications" /> <span class="form-check-label text-muted fs-7">Notifications</span> </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="menu-item px-5">
                                                <a asp-controller="Home" asp-action="Tickets" class="menu-link px-5">My Messages</a>
                                                </div>
                                            }
                                            <div class="separator my-2"></div>
                                            <div class="menu-item px-5 my-1">
                                                <a data-bs-toggle="modal" data-bs-target="#diag_change_password" class="menu-link px-5">Change Password</a>
                                            </div>
                                            <div class="menu-item px-5">
                                                <a asp-controller="Auth" asp-action="Logout" class="menu-link px-5">Sign Out</a>
                                            </div>
                                        </div>
                                    </div>
                                    @*<div class="d-flex align-items-center d-lg-none ms-3 me-n1" title="Show header menu">
                                    <div class="btn btn-icon btn-active-color-primary w-30px h-30px w-md-40px h-md-40px" id="kt_header_menu_mobile_toggle">
                                    <span class="svg-icon svg-icon-1"> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <rect x="0" y="0" width="24" height="24" /> <path fill-rule="evenodd" clip-rule="evenodd" d="M22 11.5C22 12.3284 21.3284 13 20.5 13H3.5C2.6716 13 2 12.3284 2 11.5C2 10.6716 2.6716 10 3.5 10H20.5C21.3284 10 22 10.6716 22 11.5Z" fill="black" /> <path opacity="0.5" fill-rule="evenodd" clip-rule="evenodd" d="M14.5 20C15.3284 20 16 19.3284 16 18.5C16 17.6716 15.3284 17 14.5 17H3.5C2.6716 17 2 17.6716 2 18.5C2 19.3284 2.6716 20 3.5 20H14.5ZM8.5 6C9.3284 6 10 5.32843 10 4.5C10 3.67157 9.3284 3 8.5 3H3.5C2.6716 3 2 3.67157 2 4.5C2 5.32843 2.6716 6 3.5 6H8.5Z" fill="black" /> </g> </svg> </span>
                                    </div>
                                    </div>*@
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="content d-flex flex-column flex-column-fluid" id="kt_content">
                    @RenderBody()
                </div>
                <partial name="_Footer" />
            </div>
        </div>
    </div>

    <partial name="_AddShareholderModal" model="user" />
    <partial name="_PasswordModal" model="user" />

    <div id="kt_scrolltop" class="scrolltop" data-kt-scrolltop="true">
        <span class="svg-icon"> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <polygon points="0 0 24 0 24 24 0 24" /> <rect fill="#000000" opacity="0.5" x="11" y="10" width="2" height="10" rx="1" /> <path d="M6.70710678,12.7071068 C6.31658249,13.0976311 5.68341751,13.0976311 5.29289322,12.7071068 C4.90236893,12.3165825 4.90236893,11.6834175 5.29289322,11.2928932 L11.2928932,5.29289322 C11.6714722,4.91431428 12.2810586,4.90106866 12.6757246,5.26284586 L18.6757246,10.7628459 C19.0828436,11.1360383 19.1103465,11.7686056 18.7371541,12.1757246 C18.3639617,12.5828436 17.7313944,12.6103465 17.3242754,12.2371541 L12.0300757,7.38413782 L6.70710678,12.7071068 Z" fill="#000000" fill-rule="nonzero" /> </g> </svg> </span>
    </div>

    <script src="~/assets/plugins/global/plugins.bundle.js"></script>
    <script src="~/assets/js/scripts.bundle.js"></script>

    <script src="https://unpkg.com/vue@3.2.31/dist/vue.global.prod.js"></script>

    <script src="~/assets/plugins/custom/datatables/datatables.bundle.js"></script>
    <script src="~/assets/plugins/custom/leaflet/leaflet.bundle.js"></script>
    <script src="~/assets/js/custom/widgets.js"></script>
    <script src="~/assets/js/custom/apps/chat/chat.js"></script>

    @RenderSection("scripts", required: false)

    <script src="~/custom.js" asp-append-version="true"></script>
    <script>
        var error = '@TempData["error"]';
        if (error) toastr.error(error)

        var success = '@TempData["success"]';
        if (success) toastr.success(success)

        var info = '@TempData["info"]';
        if (info) toastr.info(info)

        var warning = '@TempData["warning"]';
        if (warning) toastr.warning(warning)
    </script>
</body>
</html>